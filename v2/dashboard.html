<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Admin Gibran</title>
    <style>
        body { background: #000; color: #fff; font-family: 'Segoe UI', sans-serif; margin: 0; padding: 20px; }
        .container { max-width: 1000px; margin: auto; }
        .hidden { display: none; }
        #clock { font-size: 35px; font-weight: bold; color: #ff9800; text-align: center; margin-bottom: 25px; font-family: monospace; }
        .card { background: #111; padding: 25px; border-radius: 15px; border: 1px solid #333; margin-bottom: 20px; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 15px; margin-bottom: 25px; }
        .stat-card { background: #1a1a1a; padding: 20px; border-radius: 12px; border: 1px solid #333; text-align: center; }
        .stat-card p { margin-top: 10px; font-size: 22px; font-weight: bold; color: #ff9800; }
        .btn { padding: 12px 20px; border-radius: 8px; border: none; cursor: pointer; font-weight: bold; transition: 0.3s; }
        .btn-orange { background: #ff9800; color: #000; width: 100%; margin-top: 10px; }
        .btn-gray { background: #333; color: white; border: 1px solid #555; width: 100%; margin-top: 20px; }
        .btn-red { background: #d32f2f; color: white; padding: 5px 10px; font-size: 11px; border-radius: 4px; border:none; cursor:pointer; }
        input, textarea, select { width: 100%; padding: 12px; margin-top: 8px; margin-bottom: 15px; background: #000; border: 1px solid #444; color: #fff; border-radius: 8px; }
        .file-item { display: flex; justify-content: space-between; align-items: center; background: #1a1a1a; padding: 15px; margin-bottom: 10px; border-radius: 10px; border: 1px solid #444; }
    </style>
</head>
<body>

<div class="container">
    <button class="btn" style="background: transparent; color: #888; border: 1px solid #333; width: auto;" onclick="window.location.href='index.html'">‚¨Ö Kembali ke Halaman Depan</button>

    <div id="clock">00:00:00</div>

    <div id="page-main">
        <div class="stats-grid">
            <div class="stat-card"><h4>Visitors</h4><p>1,240</p></div>
            <div class="stat-card"><h4>Inbox</h4><p>3</p></div>
        </div>

        <div class="card">
            <h2>Upload Proyek Baru</h2>
            <input type="file" id="fileInput">
            <select id="projStatus"><option value="Publish">üöÄ Publish</option><option value="Draft">üìÅ Draft</option></select>
            <button class="btn btn-orange" onclick="uploadData()">Upload & Simpan ke Galeri</button>
        </div>

        <button class="btn btn-gray" onclick="gantiTab('page-galeri')">Buka Dashboard Galeri Terpisah ‚Æï</button>
    </div>

    <div id="page-galeri" class="hidden">
        <h2 style="text-align:center;">DASHBOARD DATA TERPISAH</h2>
        <div class="card" id="galleryContainer">
            </div>
        <button class="btn btn-gray" onclick="gantiTab('page-main')">‚¨Ö Kembali ke Utama</button>
    </div>
</div>

<script>
    // 1. Jam Digital
    setInterval(() => { document.getElementById('clock').innerText = new Date().toLocaleTimeString(); }, 1000);

    // 2. Navigasi
    function gantiTab(id) {
        document.getElementById('page-main').classList.toggle('hidden', id !== 'page-main');
        document.getElementById('page-galeri').classList.toggle('hidden', id !== 'page-galeri');
        if(id === 'page-galeri') loadGallery(); // Refresh data pas buka galeri
    }

    // 3. Fungsi Simpan (Upload)
    function uploadData() {
        const input = document.getElementById('fileInput');
        const status = document.getElementById('projStatus').value;

        if (!input.files[0]) return alert("Pilih file dulu Bran!");

        const file = input.files[0];
        
        // Simpan metadata file ke LocalStorage (karena file asli kegedean buat LocalStorage, kita simpan namanya dulu)
        let storage = JSON.parse(localStorage.getItem('gibran_gallery')) || [];
        storage.push({
            name: file.name,
            size: (file.size / 1024).toFixed(1) + " KB",
            status: status,
            time: new Date().toLocaleString()
        });

        localStorage.setItem('gibran_gallery', JSON.stringify(storage));
        
        alert("Berhasil! Data tersimpan di memori browser.");
        input.value = "";
        gantiTab('page-galeri');
    }

    // 4. Fungsi Nampilin Data di Galeri Terpisah
    function loadGallery() {
        const container = document.getElementById('galleryContainer');
        const storage = JSON.parse(localStorage.getItem('gibran_gallery')) || [];
        
        if (storage.length === 0) {
            container.innerHTML = '<p style="text-align:center; color:#555;">Belum ada file.</p>';
            return;
        }

        container.innerHTML = ""; // Bersihin gallery sebelum load ulang
        storage.forEach((item, index) => {
            const div = document.createElement('div');
            div.className = 'file-item';
            div.innerHTML = `
                <div style="text-align:left;">
                    <span style="color:#ff9800; font-size:10px;">[${item.status}]</span><br>
                    <strong>${item.name}</strong><br>
                    <small style="color:#666;">${item.size} | ${item.time}</small>
                </div>
                <button class="btn-red" onclick="hapusFile(${index})">Hapus</button>
            `;
            container.appendChild(div);
        });
    }

    // 5. Fungsi Hapus
    function hapusFile(index) {
        let storage = JSON.parse(localStorage.getItem('gibran_gallery'));
        storage.splice(index, 1);
        localStorage.setItem('gibran_gallery', JSON.stringify(storage));
        loadGallery();
    }

    // Load data pas pertama kali buka
    window.onload = loadGallery;
</script>
</body>
</html>
