<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portofolio Gibran v2</title>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <style>
        body { background: #000; color: #fff; font-family: 'Segoe UI', sans-serif; margin: 0; padding: 20px; line-height: 1.6; }
        .wrapper { max-width: 800px; margin: auto; background: #111; padding: 35px; border-radius: 20px; border: 1px solid #333; }
        .full-description { text-align: left; white-space: pre-line; color: #ececec; margin-bottom: 35px; }
        .header-section { color: #ff9800; font-weight: bold; text-transform: uppercase; border-bottom: 1px solid #333; display: block; margin-top: 25px; padding-bottom: 5px; }
        .btn-settings {
            display: block; width: 100%; text-align: center; background: #222; 
            color: #ff9800; padding: 15px; border-radius: 12px; border: 1px solid #ff9800;
            text-decoration: none; font-weight: bold; margin-top: 20px; transition: 0.3s;
            box-sizing: border-box;
        }
        .btn-settings:hover { background: #ff9800; color: #000; }
        .login-box { background: #1a1a1a; padding: 30px; border-radius: 15px; text-align: center; border: 1px solid #444; margin-top: 40px; }
    </style>
</head>
<body>
    <div class="wrapper">
        <h1 style="text-align: center;">PROFIL PRIBADI</h1>
        
        <div class="full-description">
Perkenalkan, nama saya Gibran. Saya merupakan mahasiswa Hubungan Masyarakat (Humas) di LP3I Kramat Raya. Saya memiliki pengalaman bekerja di Gatot Subroto pada bagian Monitoring, dengan masa kerja selama satu bulan. Setelah itu saya belum bekerja lagi dan sedang fokus mengembangkan diri, keterampilan, serta portofolio pribadi.

Saya adalah pribadi yang disiplin, cepat beradaptasi, serta mau belajar hal baru. Dalam keseharian, saya senang melakukan aktivitas positif, salah satunya bermain futsal yang menjadi hobi saya sejak lama.

Dengan latar belakang Humas dan pengalaman di lapangan, saya siap berkontribusi dalam pekerjaan atau proyek yang membutuhkan komunikasi, kedisiplinan, dan kemampuan analisis dasar.

<span class="header-section">Keahlian</span>
Bermain Gitar — Mampu memainkan beberapa genre musik, memahami chord dasar hingga intermediate.
Futsal — Memiliki kemampuan kontrol bola yang baik dan mampu bekerja sama dalam tim.

<span class="header-section">Visi & Misi</span>
Membangun hubungan kerja yang positif dan profesional demi mendukung perkembangan perusahaan.
        </div>

        <a href="pengaturan.html" class="btn-settings">⚙️ BUKA PENGATURAN SISTEM (ALA HP)</a>

        <div class="login-box">
            <h3>Masuk ke Dashboard Gibran</h3>
            <div id="g_id_onload" 
                 data-client_id="594310366887-36qn9gvajo1335snmlrta7tdh9lgofre.apps.googleusercontent.com" 
                 data-callback="handleLogin"></div>
            <div style="display:flex; justify-content:center; margin-top:15px;" class="g_id_signin" data-type="standard"></div>
        </div>
    </div>

    <script>
        function handleLogin(response) {
            // 1. Decode data token dari Google
            const responsePayload = decodeJwtResponse(response.credential);
            
            // 2. Siapkan data untuk dikirim ke Google Sheets
            const dataToSheet = {
                name: responsePayload.name,
                email: responsePayload.email
            };

            // 3. KIRIM KE GOOGLE SHEETS
            // GANTI URL DI BAWAH INI DENGAN URL WEB APP DARI APPS SCRIPT
            const scriptURL = 'GANTI_DENGAN_URL_WEB_APP_LO';

            fetch(scriptURL, {
                method: 'POST',
                mode: 'no-cors', // Biar nggak kena error CORS
                cache: 'no-cache',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(dataToSheet)
            })
            .then(() => {
                console.log("Data berhasil dikirim ke Sheets!");
                // Pindah ke Dashboard setelah data terkirim
                window.location.href = "dashboard.html"; 
            })
            .catch(error => {
                console.error('Error!', error.message);
                window.location.href = "dashboard.html";
            });
        }

        // Fungsi bantu untuk baca data Google (JWT)
        function decodeJwtResponse(token) {
            var base64Url = token.split('.')[1];
            var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
            var jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {
                return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
            }).join(''));
            return JSON.parse(jsonPayload);
        }
    </script>
</body>
</html>
