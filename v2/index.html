<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portofolio & Dashboard Admin | M. GIBRAN</title>
    <style>
        :root {
            --primary: #2563eb; --dark: #0f172a; --light: #f8fafc;
            --accent: #ffcc00; --success: #10b981; --danger: #ef4444; --purple: #8b5cf6;
        }
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: var(--light); color: var(--dark); overflow-x: hidden; }
        
        /* HEADER & HERO */
        header { background: linear-gradient(135deg, var(--dark) 0%, #1e293b 100%); color: white; padding: 4rem 1rem; text-align: center; }
        .container { max-width: 1000px; margin: 0 auto; padding: 0 20px 50px 20px; }
        .main-card { background: white; border-radius: 20px; padding: 40px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); margin-top: -50px; }
        
        /* TYPOGRAPHY */
        .section-title { color: var(--primary); border-left: 6px solid var(--accent); padding-left: 15px; margin-top: 35px; font-size: 1.4rem; text-transform: uppercase; font-weight: bold; }
        .content-text { text-align: justify; color: #334155; font-size: 1.05rem; background: #f8fafc; padding: 25px; border-radius: 12px; border: 1px solid #e2e8f0; white-space: pre-line; }
        
        /* GRID SKILLS */
        .grid-keahlian { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 15px; }
        .card-skill { background: #ffffff; padding: 20px; border-radius: 12px; border: 1px solid #e2e8f0; transition: 0.3s; }
        .card-skill h3 { margin-top: 0; color: var(--primary); border-bottom: 2px solid #f1f5f9; padding-bottom: 10px; }
        
        /* DASHBOARD SECTION (Hidden by default) */
        #dashboard-section { display: none; background: #020617; color: white; min-height: 100vh; padding: 30px; }
        .jam-digital { font-size: 2rem; color: var(--accent); font-weight: bold; text-align: right; margin-bottom: 20px; text-shadow: 0 0 10px var(--accent); }
        .cctv-box { background: #000; border: 3px solid #334155; position: relative; border-radius: 10px; overflow: hidden; height: 300px; display: flex; align-items: center; justify-content: center; }
        video { width: 100%; height: 100%; object-fit: cover; transform: scaleX(-1); }
        .rec-label { position: absolute; top: 15px; left: 15px; color: red; font-weight: bold; animation: blink 1s infinite; }
        
        /* ROOMS */
        .room { background: #1e293b; padding: 20px; border-radius: 15px; margin-top: 20px; border: 1px solid var(--primary); }
        .room-stiven { border-color: var(--purple); }
        
        /* BUTTONS */
        .btn-container { display: flex; flex-wrap: wrap; gap: 15px; justify-content: center; margin-top: 45px; }
        .btn { padding: 14px 28px; border-radius: 10px; font-weight: bold; cursor: pointer; border: none; display: inline-flex; align-items: center; transition: 0.3s; }
        .btn-daftar { background: var(--primary); color: white; }
        .btn-login { background: var(--purple); color: white; display: none; }
        .btn-masuk { background: var(--dark); color: white; border: 2px solid var(--primary); }
        .btn-upload { background: var(--success); color: white; width: 100%; margin-top: 10px; }
        
        /* MODAL */
        .modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); align-items: center; justify-content: center; }
        .modal-content { background: white; padding: 30px; border-radius: 20px; width: 90%; max-width: 500px; color: black; }
        input { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ccc; border-radius: 8px; box-sizing: border-box; }

        @keyframes blink { 50% { opacity: 0; } }
        @media (max-width: 768px) { .grid-keahlian { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

<div id="portofolio-page">
    <header>
        <h1>M. GIBRAN</h1>
        <p>Desain Grafis | Content Creator | Video Editor | Humas</p>
    </header>

    <div class="container">
        <div class="main-card">
            <h2 class="section-title">Tentang Saya</h2>
            <div class="content-text">
                Perkenalkan, nama saya Gibran. Saya merupakan mahasiswa Hubungan Masyarakat (Humas) di LP3I Kramat Raya. Saya memiliki pengalaman bekerja di Gatot Subroto pada bagian Monitoring, dengan masa kerja selama satu bulan. 
                Saya adalah pribadi yang disiplin, cepat beradaptasi, serta mau belajar hal baru. Dalam keseharian, saya senang bermain futsal.
            </div>

            <h2 class="section-title">Keahlian & Kompetensi</h2>
            <div class="grid-keahlian">
                <div class="card-skill"><h3>üé® Desain Grafis</h3><p>Membuat desain visual seperti poster, banner, logo, dan konten media sosial profesional.</p></div>
                <div class="card-skill"><h3>üé¨ Video Editing</h3><p>Adobe Premiere Pro: cutting, color grading, audio mixing, dan final export.</p></div>
                <div class="card-skill"><h3>‚ú® Animasi Dasar</h3><p>Mampu membuat animasi sederhana, intro video, dan motion graphic ringan.</p></div>
                <div class="card-skill"><h3>‚öΩ Futsal</h3><p>Mampu bekerja sama dalam tim dan memiliki disiplin atletik yang baik.</p></div>
            </div>

            <h2 class="section-title">Pengalaman Kerja</h2>
            <div class="card-skill"><h3>üè¢ BGI (Operasional)</h3><p>Bertanggung jawab dalam tugas operasional, membantu tim, dan memahami manajemen waktu secara profesional.</p></div>

            <div class="btn-container">
                <button id="btnDaftar" class="btn btn-daftar" onclick="openM('modalD')">üìù Daftar Sekarang</button>
                <button id="btnLogin" class="btn btn-login" onclick="openM('modalL')">üîë Login Akun</button>
                <button class="btn btn-masuk" onclick="showDashboard()">üñ•Ô∏è Masuk Dashboard</button>
            </div>
        </div>
    </div>
</div>

<div id="dashboard-section">
    <div class="jam-digital" id="clock">00:00:00</div>
    <h1 style="color:var(--primary); margin:0;">SECURE ADMIN PANEL</h1>
    <p>Operator: Gibran & Stiven | Status: <span style="color:var(--success)">Online</span></p>

    <div style="display: grid; grid-template-columns: 1fr 350px; gap: 20px; margin-top: 30px;">
        <div>
            <div class="cctv-box">
                <div class="rec-label">‚óè REC LIVE</div>
                <video id="webcam" autoplay playsinline muted></video>
                <div style="position:absolute; bottom:10px; right:10px; color:white; background:rgba(0,0,0,0.5); padding:5px;">CAM_01_GIBRAN</div>
            </div>

            <div class="room">
                <h3 style="color:var(--primary)">üìÇ Ruangan Khusus Gibran</h3>
                <input type="file" id="fGibran" style="color:white">
                <button class="btn btn-upload" onclick="upFile('fGibran', 'lGibran')">Upload & Simpan</button>
                <div id="lGibran" style="margin-top:15px; background:rgba(0,0,0,0.3); padding:10px; border-radius:10px;"></div>
            </div>

            <div class="room room-stiven">
                <h3 style="color:var(--purple)">üìÇ Ruangan Khusus Stiven</h3>
                <input type="file" id="fStiven" style="color:white">
                <button class="btn btn-upload" style="background:var(--purple)" onclick="upFile('fStiven', 'lStiven')">Upload & Simpan</button>
                <div id="lStiven" style="margin-top:15px; background:rgba(0,0,0,0.3); padding:10px; border-radius:10px;"></div>
            </div>
        </div>

        <div class="card-skill" style="background:#0f172a; border-color:var(--primary); color:white;">
            <h3>üìä Status Sistem</h3>
            <p>Database: <span style="color:var(--success)">Connected</span></p>
            <p>CCTV Status: <span style="color:var(--success)">Active</span></p>
            <hr>
            <button class="btn btn-danger" onclick="location.reload()" style="background:var(--danger); color:white; width:100%; justify-content:center;">Keluar Dashboard</button>
        </div>
    </div>
</div>

<div id="modalD" class="modal"><div class="modal-content"><h3>Daftar Sekarang</h3><form id="fD"><input type="text" name="nama" placeholder="Nama" required><input type="number" name="hp" placeholder="HP" required><input type="text" name="opini" placeholder="Opini" required><button type="submit" class="btn btn-daftar" style="width:100%">Kirim</button></form></div></div>
<div id="modalL" class="modal"><div class="modal-content"><h3>Login Akun</h3><form id="fL"><input type="text" name="nama" placeholder="Nama" required><input type="number" name="hp" placeholder="Nomor Telepon" required><button type="submit" class="btn btn-login" style="width:100%; display:block">Masuk</button></form></div></div>

<script>
    const sURL = 'https://script.google.com/macros/s/AKfycbxqbpqaLr31aPnLmALq3VZQ8t5z7VkWTT0LwxO0AE-1hj6s03X7BVPrQecyH5x8jSvgew/exec';
    
    function openM(id) { document.getElementById(id).style.display = 'flex'; }
    window.onclick = e => { if(e.target.className=='modal') e.target.style.display='none'; }

    // ALUR DAFTAR & LOGIN
    document.getElementById('fD').onsubmit = e => {
        e.preventDefault();
        fetch(sURL, { method: 'POST', body: new FormData(e.target), mode: 'no-cors' }).then(() => {
            alert('Daftar Berhasil! Tombol Login Aktif.');
            document.getElementById('modalD').style.display='none';
            document.getElementById('btnDaftar').style.display='none';
            document.getElementById('btnLogin').style.display='inline-flex';
        });
    };

    document.getElementById('fL').onsubmit = e => {
        e.preventDefault();
        let fd = new FormData(e.target); fd.append('sheetTarget', 'login.html');
        fetch(sURL, { method: 'POST', body: fd, mode: 'no-cors' }).then(() => { alert('Login Berhasil!'); showDashboard(); });
    };

    // FUNGSI DASHBOARD
    function showDashboard() {
        document.getElementById('portofolio-page').style.display = 'none';
        document.getElementById('dashboard-section').style.display = 'block';
        startCam();
    }

    function updateClock() {
        const n = new Date();
        document.getElementById('clock').innerText = n.toLocaleTimeString('id-ID');
    }
    setInterval(updateClock, 1000);

    async function startCam() {
        const v = document.getElementById('webcam');
        try { const s = await navigator.mediaDevices.getUserMedia({ video: true }); v.srcObject = s; } 
        catch (err) { console.log("Kamera tidak aktif"); }
    }

    function upFile(inId, lId) {
        const inp = document.getElementById(inId);
        const list = document.getElementById(lId);
        if(inp.files.length > 0) {
            const f = inp.files[0];
            const url = URL.createObjectURL(f);
            list.innerHTML += `<div style="display:flex; justify-content:space-between; margin-bottom:10px;">
                <span>üìÑ ${f.name}</span>
                <div>
                    <a href="${url}" download="${f.name}" style="color:var(--success); text-decoration:none; margin-right:10px;">Download</a>
                    <button onclick="this.parentElement.parentElement.remove()" style="background:none; border:none; color:red; cursor:pointer;">Hapus</button>
                </div>
            </div>`;
            inp.value = "";
        }
    }
</script>
</body>
</html>
