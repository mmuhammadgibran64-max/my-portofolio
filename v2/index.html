<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portofolio Pribadi | Gibran</title>
    <style>
        :root {
            --primary: #2563eb;
            --dark: #0f172a;
            --light: #f8fafc;
            --accent: #ffcc00;
            --success: #10b981;
            --danger: #ef4444;
            --gray: #64748b;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0; padding: 0;
            background-color: var(--light); color: var(--dark);
            line-height: 1.6;
        }

        header {
            background: linear-gradient(135deg, var(--dark) 0%, #1e293b 100%);
            color: white; padding: 4rem 1rem; text-align: center;
        }

        .container { max-width: 900px; margin: 0 auto; padding: 0 20px 50px 20px; }

        .main-card {
            background: white; border-radius: 20px; padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); margin-top: -50px;
        }

        .section-title {
            color: var(--primary); border-left: 6px solid var(--accent);
            padding-left: 15px; margin-top: 30px; font-size: 1.4rem;
            text-transform: uppercase; font-weight: bold;
        }

        .content-text {
            text-align: justify; color: #334155; font-size: 1.05rem;
            background: #f8fafc; padding: 20px; border-radius: 10px;
            border: 1px solid #e2e8f0; white-space: pre-line;
        }

        .btn-container { display: flex; flex-wrap: wrap; gap: 15px; justify-content: center; margin-top: 40px; }
        
        .btn {
            padding: 12px 25px; border-radius: 10px; text-decoration: none;
            font-weight: bold; cursor: pointer; border: none;
            display: inline-flex; align-items: center; transition: 0.3s;
        }

        .btn-daftar { background: var(--primary); color: white; }
        .btn-cv { background: var(--success); color: white; }
        .btn-masuk { border: 2px solid var(--primary); color: var(--primary); background: transparent; }
        .btn:disabled { background: #64748b; cursor: not-allowed; opacity: 0.7; }

        /* MODAL */
        .modal {
            display: none; position: fixed; z-index: 1000;
            left: 0; top: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.7);
            align-items: center; justify-content: center;
        }

        .modal-content {
            background-color: white; padding: 30px; border-radius: 15px;
            width: 90%; max-width: 500px; position: relative;
        }

        .form-group { margin-bottom: 15px; text-align: left; }
        .form-group label { display: block; font-weight: bold; margin-bottom: 5px; }
        .form-group input, .form-group textarea {
            width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 8px; box-sizing: border-box;
        }

        .close-modal {
            position: absolute; right: 15px; top: 10px; font-size: 24px;
            cursor: pointer; color: #999;
        }
    </style>
</head>
<body>

<header>
    <h1>M. GIBRAN</h1>
    <p>LP3I Kramat Raya | Humas | Desain Grafis</p>
</header>

<div class="container">
    <div class="main-card">
        <h2 class="section-title">Tentang Saya</h2>
        <div class="content-text">
            Perkenalkan, nama saya Gibran. Saya merupakan mahasiswa Hubungan Masyarakat (Humas) di LP3I Kramat Raya. Saya memiliki pengalaman bekerja di Gatot Subroto pada bagian Monitoring, dengan masa kerja selama satu bulan. 
            
            Saya adalah pribadi yang disiplin, cepat beradaptasi, serta mau belajar hal baru. Dalam keseharian, saya senang melakukan aktivitas positif, salah satunya bermain futsal yang menjadi hobi saya sejak lama.
        </div>

        <div class="btn-container">
            <button class="btn btn-daftar" onclick="openDaftar()">üìù Daftar Sekarang</button>
            <button class="btn btn-cv" onclick="openCV()">üìÅ Masukkan CV</button>
            <button class="btn btn-masuk">Masuk Dashboard</button>
        </div>
    </div>
</div>

<div id="modalDaftar" class="modal">
    <div class="modal-content">
        <span class="close-modal" onclick="closeDaftar()">&times;</span>
        <h3 style="color: var(--primary);">Form Pendaftaran</h3>
        <form id="formGibran">
            <div class="form-group">
                <label>Nama Lengkap</label>
                <input type="text" name="nama" required>
            </div>
            <div class="form-group">
                <label>Nomor Handphone</label>
                <input type="number" name="hp" required>
            </div>
            <div class="form-group">
                <label>Opini Tentang Website</label>
                <textarea name="opini" rows="3" required></textarea>
            </div>
            <button type="submit" id="btnSubmit" class="btn btn-daftar" style="width: 100%;">Kirim Sekarang</button>
        </form>
    </div>
</div>

<div id="modalCV" class="modal">
    <div class="modal-content" style="text-align: center;">
        <span class="close-modal" onclick="closeCV()">&times;</span>
        <h3>Dashboard CV Gibran</h3>
        <div style="background: #f1f5f9; padding: 20px; border-radius: 10px; border: 2px dashed #ccc;">
            <p id="cvStatus">Belum ada file diunggah</p>
            <input type="file" id="fileIn" onchange="upCV()">
            <div id="cvCtrl" style="display:none; margin-top: 10px; gap: 10px; justify-content: center;">
                <button class="btn-sm" style="background:var(--danger); color:white; padding:5px 10px; border:none; border-radius:5px; cursor:pointer;" onclick="delCV()">Hapus</button>
            </div>
        </div>
    </div>
</div>

<script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbxXXY6v2RhcMazAB7gvEiixXG6p89Yx5bkjp1L-275Synz5eApSpROpibdN9TDcLJblaQ/exec';
    const form = document.getElementById('formGibran');
    const btnSubmit = document.getElementById('btnSubmit');

    function openDaftar() { document.getElementById("modalDaftar").style.display = "flex"; }
    function closeDaftar() { document.getElementById("modalDaftar").style.display = "none"; }
    function openCV() { document.getElementById("modalCV").style.display = "flex"; }
    function closeCV() { document.getElementById("modalCV").style.display = "none"; }

    form.addEventListener('submit', e => {
        e.preventDefault();
        btnSubmit.disabled = true;
        btnSubmit.innerText = "Sabar, lagi dikirim...";
        
        fetch(scriptURL, { 
            method: 'POST', 
            body: new FormData(form),
            mode: 'no-cors' // Menghindari masalah CORS di beberapa browser
        })
        .then(() => {
            alert('MANTAP! Data lo udah terkirim ke Google Sheets!');
            btnSubmit.disabled = false;
            btnSubmit.innerText = "Kirim Sekarang";
            form.reset();
            closeDaftar();
        })
        .catch(error => {
            console.error('Error!', error.message);
            alert('Waduh, koneksi bermasalah. Coba lagi ya Bran!');
            btnSubmit.disabled = false;
            btnSubmit.innerText = "Kirim Sekarang";
        });
    });

    function upCV() {
        const file = document.getElementById("fileIn").files[0];
        document.getElementById("cvStatus").innerText = "üìÑ " + file.name;
        document.getElementById("cvCtrl").style.display = "flex";
        document.getElementById("fileIn").style.display = "none";
    }
    function delCV() {
        document.getElementById("cvStatus").innerText = "Belum ada file diunggah";
        document.getElementById("cvCtrl").style.display = "none";
        document.getElementById("fileIn").style.display = "block";
        document.getElementById("fileIn").value = "";
    }

    window.onclick = function(e) { if(e.target.className == 'modal') { closeDaftar(); closeCV(); } }
</script>

</body>
</html>
